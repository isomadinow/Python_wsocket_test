# WebSocket Клиент для Отправки Данных Самосвала

Этот проект демонстрирует использование WebSocket в Python для отправки и получения данных. Скрипт имитирует работу самосвала, отправляя данные, такие как уровень топлива, скорость, координаты, на сервер.

## Описание

Скрипт использует `asyncio` и `websockets` для периодической отправки данных и получения ответов от сервера. Это подходит для тестирования работы сервера в реальном времени.

### Основные функции

- Периодическая отправка данных на сервер.
- Получение ответов от сервера и их обработка.
- Дополнительные запросы на получение данных.

## Установка

1. Установите Python: [Python.org](https://www.python.org/downloads/)
2. Установите библиотеку `websockets`:
   ```bash
   pip install websockets
   ```

## Запуск

Запустите клиент командой:

```bash
python main.py
```

## Пример работы

Клиент отправляет данные в формате JSON:

```json
{
    "Command": "update",
    "Name": "Самосвал-01",
    "StateNumber": "АБВ123",
    "TypeTransport": 1,
    "FuelLevel": 87.54,
    "DistanceToTarget": 250.2,
    "MaxLoadCapacity": 10.0,
    "CurrentLoadWeight": 7.8,
    "CargoName": "Уголь",
    "Speed": 35.5,
    "Throttle": 0.65,
    "Brake": 0.2,
    "Steer": -0.4,
    "DistanceToNearestVehicle": 65.5,
    "Latitude": 52.5193,
    "Longitude": 13.4048,
    "Altitude": 10.2,
    "LocalX": 45.0,
    "LocalY": 85.3,
    "LocalZ": 5.2,
    "CurrentStatusName": "Активен",
    "StatusDescription": "Работоспособен"
}
```

Также отправляется запрос на получение данных:

```json
{
    "Command": "get",
    "StateNumber": "ABC123"
}
```

И клиент получает ответ от сервера, который отображается в консоли.

## Возможности WebSocket

- **Постоянное соединение**: Данные можно отправлять и получать без повторного подключения.
- **Двусторонняя связь**: И клиент, и сервер могут инициировать обмен данными.

## Возможные улучшения

- **Новые команды**: Добавить команды `start`, `stop`, `pause`, `resume` для управления транспортом.
- **Обработка ошибок**: Добавить обработку ошибок при потере соединения.
- **Авторизация**: Реализовать авторизацию для безопасного соединения.

## Примечания

- Сервер WebSocket должен быть доступен по адресу `ws://localhost:5236/ws/dumptruck`.
- Для изменения интервала отправки данных измените задержку (`await asyncio.sleep(1)`).

